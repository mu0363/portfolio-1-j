#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "Styling, testing and building your project before committing"

# Check Prettier standards
yarn check-types ||
(
  echo "ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Failed type check. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡
        Are you seriously trying to write that? Make the changes required above.";
  false;
)

# Check Prettier standards
yarn check-format ||
(
  echo "ğŸ¤¢ğŸ¤®ğŸ¤¢ğŸ¤® Its F**KING RAW - Your styling looks disgusting. ğŸ¤¢ğŸ¤®ğŸ¤¢ğŸ¤®
        ã‚³ãƒ¼ãƒ‰æ•´å½¢ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚ yarn format ã‚’å®Ÿè¡Œã—ã¦ã‚‚ã†ä¸€åº¦ã‚³ãƒŸãƒƒãƒˆã—ã¦ã­!";
  false;
)

# Check ESLint standards
yarn check-lint ||
(
  echo "ğŸ˜¡ğŸ§¶ğŸ‘‹ğŸ˜¡ Get that weaks s**t out of here! ğŸ˜¡ğŸ§¶ğŸ‘‹ğŸ˜¡
        ESLintãŒæ€’ã£ã¦ã‚‹ã‚ˆ! yarn check-lint ã‚’å®Ÿè¡Œã—ã¦ä¿®æ­£å¾Œã‚‚ã†ä¸€åº¦ã‚³ãƒŸãƒƒãƒˆã—ã¾ã—ã‚‡ã†!";
  false;
)

# If everything passes... try to run build
echo "ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”... ãµãƒ¼ã‚€... ä»Šã‚“ã¨ã“ã‚è‰¯ã•ã’... ãƒ“ãƒ«ãƒ‰ä¸­ã§ã™... ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”"

# Check ESLint standards
yarn check-lint ||
(
  echo "âŒğŸ‘·ğŸ”¨âŒ Better call Bob... Because your build failed âŒğŸ‘·ğŸ”¨âŒ
        ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ã¾ã—ãŸğŸ’¦ ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„!";
  false;
)

# If it builds we can commit
echo "âœ… âœ… âœ…  ãŠã‚ã§ã¨ã†ï¼ ã‚³ãƒŸãƒƒãƒˆå‡ºæ¥ã¾ã—ãŸ âœ… âœ… âœ… "